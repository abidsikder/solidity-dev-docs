<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>TickBitmap - Solidity DevDocs</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "TickBitmap";
        var mkdocs_page_input_path = "uniswap-v3-core/libraries/TickBitmap.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Solidity DevDocs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Prb math</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../prb-math/PRBMath/">PRBMath</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../prb-math/PRBMathSD59x18/">PRBMathSD59x18</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../prb-math/PRBMathSD59x18Typed/">PRBMathSD59x18Typed</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../prb-math/PRBMathUD60x18/">PRBMathUD60x18</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../prb-math/PRBMathUD60x18Typed/">PRBMathUD60x18Typed</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Solidity trigonometry</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../solidity-trigonometry/Trigonometry/">Trigonometry</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Spatial sol</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../spatial-sol/Jurisdiction/">Jurisdiction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../spatial-sol/LocationAware/">LocationAware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../spatial-sol/Migrations/">Migrations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../spatial-sol/Spatial/">Spatial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../spatial-sol/Trigonometry/">Trigonometry</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Uniswap v3 core</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../NoDelegateCall/">NoDelegateCall</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../UniswapV3Factory/">UniswapV3Factory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../UniswapV3Pool/">UniswapV3Pool</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../UniswapV3PoolDeployer/">UniswapV3PoolDeployer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Interfaces</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../interfaces/IERC20Minimal/">IERC20Minimal</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../interfaces/IUniswapV3Factory/">IUniswapV3Factory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../interfaces/IUniswapV3Pool/">IUniswapV3Pool</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../interfaces/IUniswapV3PoolDeployer/">IUniswapV3PoolDeployer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Callback</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/callback/IUniswapV3FlashCallback/">IUniswapV3FlashCallback</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/callback/IUniswapV3MintCallback/">IUniswapV3MintCallback</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/callback/IUniswapV3SwapCallback/">IUniswapV3SwapCallback</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Pool</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolActions/">IUniswapV3PoolActions</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolDerivedState/">IUniswapV3PoolDerivedState</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolEvents/">IUniswapV3PoolEvents</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolImmutables/">IUniswapV3PoolImmutables</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolOwnerActions/">IUniswapV3PoolOwnerActions</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../interfaces/pool/IUniswapV3PoolState/">IUniswapV3PoolState</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Libraries</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../BitMath/">BitMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../FixedPoint128/">FixedPoint128</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../FixedPoint96/">FixedPoint96</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../FullMath/">FullMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../LiquidityMath/">LiquidityMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../LowGasSafeMath/">LowGasSafeMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Oracle/">Oracle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Position/">Position</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../SafeCast/">SafeCast</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../SqrtPriceMath/">SqrtPriceMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../SwapMath/">SwapMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Tick/">Tick</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">TickBitmap</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#position">position</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#fliptick">flipTick</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nextinitializedtickwithinoneword">nextInitializedTickWithinOneWord</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../TickMath/">TickMath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../TransferHelper/">TransferHelper</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../UnsafeMath/">UnsafeMath</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Solidity DevDocs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Uniswap v3 core &raquo;</li>
          <li>Libraries &raquo;</li>
      <li>TickBitmap</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="tickbitmap">TickBitmap</h2>
<p>Stores a packed mapping of tick index to its initialized state</p>
<p><em>The mapping uses int16 for keys since ticks are represented as int24 and there are 256 (2^8) values per word.</em></p>
<h3 id="position">position</h3>
<pre><code class="language-solidity">function position(int24 tick) private pure returns (int16 wordPos, uint8 bitPos)
</code></pre>
<p>Computes the position in the mapping where the initialized bit for a tick lives</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tick</td>
<td>int24</td>
<td>The tick for which to compute the position</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>wordPos</td>
<td>int16</td>
<td>The key in the mapping containing the word in which the bit is stored</td>
</tr>
<tr>
<td>bitPos</td>
<td>uint8</td>
<td>The bit position in the word where the flag is stored</td>
</tr>
</tbody>
</table>
<h3 id="fliptick">flipTick</h3>
<pre><code class="language-solidity">function flipTick(mapping(int16 =&gt; uint256) self, int24 tick, int24 tickSpacing) internal
</code></pre>
<p>Flips the initialized state for a given tick from false to true, or vice versa</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>self</td>
<td>mapping(int16 &#x3D;&gt; uint256)</td>
<td>The mapping in which to flip the tick</td>
</tr>
<tr>
<td>tick</td>
<td>int24</td>
<td>The tick to flip</td>
</tr>
<tr>
<td>tickSpacing</td>
<td>int24</td>
<td>The spacing between usable ticks</td>
</tr>
</tbody>
</table>
<h3 id="nextinitializedtickwithinoneword">nextInitializedTickWithinOneWord</h3>
<pre><code class="language-solidity">function nextInitializedTickWithinOneWord(mapping(int16 =&gt; uint256) self, int24 tick, int24 tickSpacing, bool lte) internal view returns (int24 next, bool initialized)
</code></pre>
<p>Returns the next initialized tick contained in the same word (or adjacent word) as the tick that is either
to the left (less than or equal to) or right (greater than) of the given tick</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>self</td>
<td>mapping(int16 &#x3D;&gt; uint256)</td>
<td>The mapping in which to compute the next initialized tick</td>
</tr>
<tr>
<td>tick</td>
<td>int24</td>
<td>The starting tick</td>
</tr>
<tr>
<td>tickSpacing</td>
<td>int24</td>
<td>The spacing between usable ticks</td>
</tr>
<tr>
<td>lte</td>
<td>bool</td>
<td>Whether to search for the next initialized tick to the left (less than or equal to the starting tick)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>next</td>
<td>int24</td>
<td>The next initialized or uninitialized tick up to 256 ticks away from the current tick</td>
</tr>
<tr>
<td>initialized</td>
<td>bool</td>
<td>Whether the next tick is initialized, as the function only searches within up to 256 ticks</td>
</tr>
</tbody>
</table>
<h2 id="tickbitmap_1">TickBitmap</h2>
<p>Stores a packed mapping of tick index to its initialized state</p>
<p><em>The mapping uses int16 for keys since ticks are represented as int24 and there are 256 (2^8) values per word.</em></p>
<h3 id="position_1">position</h3>
<pre><code class="language-solidity">function position(int24 tick) private pure returns (int16 wordPos, uint8 bitPos)
</code></pre>
<p>Computes the position in the mapping where the initialized bit for a tick lives</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>tick</td>
<td>int24</td>
<td>The tick for which to compute the position</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>wordPos</td>
<td>int16</td>
<td>The key in the mapping containing the word in which the bit is stored</td>
</tr>
<tr>
<td>bitPos</td>
<td>uint8</td>
<td>The bit position in the word where the flag is stored</td>
</tr>
</tbody>
</table>
<h3 id="fliptick_1">flipTick</h3>
<pre><code class="language-solidity">function flipTick(mapping(int16 =&gt; uint256) self, int24 tick, int24 tickSpacing) internal
</code></pre>
<p>Flips the initialized state for a given tick from false to true, or vice versa</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>self</td>
<td>mapping(int16 &#x3D;&gt; uint256)</td>
<td>The mapping in which to flip the tick</td>
</tr>
<tr>
<td>tick</td>
<td>int24</td>
<td>The tick to flip</td>
</tr>
<tr>
<td>tickSpacing</td>
<td>int24</td>
<td>The spacing between usable ticks</td>
</tr>
</tbody>
</table>
<h3 id="nextinitializedtickwithinoneword_1">nextInitializedTickWithinOneWord</h3>
<pre><code class="language-solidity">function nextInitializedTickWithinOneWord(mapping(int16 =&gt; uint256) self, int24 tick, int24 tickSpacing, bool lte) internal view returns (int24 next, bool initialized)
</code></pre>
<p>Returns the next initialized tick contained in the same word (or adjacent word) as the tick that is either
to the left (less than or equal to) or right (greater than) of the given tick</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>self</td>
<td>mapping(int16 &#x3D;&gt; uint256)</td>
<td>The mapping in which to compute the next initialized tick</td>
</tr>
<tr>
<td>tick</td>
<td>int24</td>
<td>The starting tick</td>
</tr>
<tr>
<td>tickSpacing</td>
<td>int24</td>
<td>The spacing between usable ticks</td>
</tr>
<tr>
<td>lte</td>
<td>bool</td>
<td>Whether to search for the next initialized tick to the left (less than or equal to the starting tick)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>next</td>
<td>int24</td>
<td>The next initialized or uninitialized tick up to 256 ticks away from the current tick</td>
</tr>
<tr>
<td>initialized</td>
<td>bool</td>
<td>Whether the next tick is initialized, as the function only searches within up to 256 ticks</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Tick/" class="btn btn-neutral float-left" title="Tick"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../TickMath/" class="btn btn-neutral float-right" title="TickMath">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Tick/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../TickMath/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
